var statsMultPL={acceleration:.45,sprintspeed:.55,agility:.1,balance:.05,reactions:.05,ballcontrol:.3,dribbling:.5,positioning:.05,finishing:.45,shotpower:.2,longshotsaccuracy:.2,volleys:.05,penalties:.05,interceptions:.2,headingaccuracy:.1,marking:.3,standingtackle:.3,slidingtackle:.1,vision:.2,crossing:.2,freekickaccuracy:.05,shortpassing:.35,longpassing:.15,curve:.05,jumping:.05,stamina:.25,strength:.5,aggression:.2,composure:0,gkkicking:1,gkhandling:1,gkreflexes:1,gkpositioning:1,gkdiving:1};var statsMultGK={acceleration:.55,sprintspeed:.45,agility:.1,balance:.05,reactions:.05,ballcontrol:.3,dribbling:.5,positioning:.05,finishing:.45,shotpower:.2,longshotsaccuracy:.2,volleys:.05,penalties:.05,interceptions:.2,headingaccuracy:.1,marking:.3,standingtackle:.3,slidingtackle:.1,vision:.2,crossing:.2,freekickaccuracy:.05,shortpassing:.35,longpassing:.15,curve:.05,jumping:.05,stamina:.25,strength:.5,aggression:.2,composure:0,gkkicking:1,gkhandling:1,gkreflexes:1,gkpositioning:1,gkdiving:1};var csStats={basic:{acceleration:0,sprintspeed:5,positioning:5,finishing:0,shotpower:5,longshotsaccuracy:0,volleys:5,penalties:5,vision:5,crossing:0,freekickaccuracy:0,longpassing:5,shortpassing:5,curve:5,agility:5,balance:0,reactions:0,ballcontrol:5,dribbling:5,interceptions:0,headingaccuracy:0,marking:5,standingtackle:5,slidingtackle:5,jumping:5,stamina:0,strength:5,aggression:0,composure:0},sniper:{acceleration:0,sprintspeed:0,positioning:5,finishing:0,shotpower:10,longshotsaccuracy:15,volleys:10,penalties:5,vision:0,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:0,curve:0,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:15,stamina:0,strength:5,aggression:10,composure:0},finisher:{acceleration:0,sprintspeed:0,positioning:5,finishing:15,shotpower:10,longshotsaccuracy:0,volleys:10,penalties:5,vision:0,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:0,curve:0,agility:10,balance:5,reactions:0,ballcontrol:0,dribbling:15,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:0,stamina:0,strength:0,aggression:0,composure:0},deadeye:{acceleration:0,sprintspeed:0,positioning:10,finishing:10,shotpower:15,longshotsaccuracy:5,volleys:0,penalties:5,vision:10,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:15,curve:5,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:0,stamina:0,strength:0,aggression:0,composure:0},marksman:{acceleration:0,sprintspeed:0,positioning:0,finishing:10,shotpower:5,longshotsaccuracy:10,volleys:0,penalties:5,vision:0,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:0,curve:0,agility:0,balance:0,reactions:5,ballcontrol:10,dribbling:10,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:10,stamina:0,strength:10,aggression:0,composure:0},hawk:{acceleration:5,sprintspeed:5,positioning:5,finishing:5,shotpower:10,longshotsaccuracy:10,volleys:0,penalties:5,vision:0,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:0,curve:0,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:10,stamina:0,strength:5,aggression:10,composure:0},artist:{acceleration:0,sprintspeed:0,positioning:0,finishing:0,shotpower:0,longshotsaccuracy:0,volleys:0,penalties:0,vision:10,crossing:10,freekickaccuracy:5,longpassing:15,shortpassing:0,curve:5,agility:15,balance:0,reactions:5,ballcontrol:0,dribbling:10,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:0,stamina:0,strength:0,aggression:0,composure:0},architect:{acceleration:0,sprintspeed:0,positioning:0,finishing:0,shotpower:0,longshotsaccuracy:0,volleys:0,penalties:0,vision:10,crossing:0,freekickaccuracy:5,longpassing:5,shortpassing:15,curve:10,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:10,stamina:0,strength:15,aggression:5,composure:0},powerhouse:{acceleration:0,sprintspeed:0,positioning:0,finishing:0,shotpower:0,longshotsaccuracy:0,volleys:0,penalties:0,vision:15,crossing:5,freekickaccuracy:0,longpassing:10,shortpassing:10,curve:5,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:10,headingaccuracy:0,marking:5,standingtackle:15,slidingtackle:0,jumping:0,stamina:0,strength:0,aggression:0,composure:0},maestro:{acceleration:0,sprintspeed:0,positioning:0,finishing:0,shotpower:10,longshotsaccuracy:10,volleys:5,penalties:0,vision:5,crossing:0,freekickaccuracy:10,longpassing:10,shortpassing:5,curve:0,agility:0,balance:0,reactions:10,ballcontrol:0,dribbling:10,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:0,stamina:0,strength:0,aggression:0,composure:0},engine:{acceleration:5,sprintspeed:5,positioning:0,finishing:0,shotpower:0,longshotsaccuracy:0,volleys:0,penalties:0,vision:5,crossing:10,freekickaccuracy:0,longpassing:5,shortpassing:5,curve:10,agility:5,balance:10,reactions:0,ballcontrol:0,dribbling:10,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:0,stamina:0,strength:0,aggression:0,composure:0},sentinel:{acceleration:0,sprintspeed:0,positioning:0,finishing:0,shotpower:0,longshotsaccuracy:0,volleys:0,penalties:0,vision:0,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:0,curve:0,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:10,headingaccuracy:15,marking:10,standingtackle:5,slidingtackle:5,jumping:15,stamina:0,strength:5,aggression:10,composure:0},guardian:{acceleration:0,sprintspeed:0,positioning:0,finishing:0,shotpower:0,longshotsaccuracy:0,volleys:0,penalties:0,vision:0,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:0,curve:0,agility:0,balance:10,reactions:0,ballcontrol:5,dribbling:15,interceptions:5,headingaccuracy:5,marking:10,standingtackle:15,slidingtackle:10,jumping:0,stamina:0,strength:0,aggression:0,composure:0},gladiator:{acceleration:0,sprintspeed:0,positioning:0,finishing:15,shotpower:10,longshotsaccuracy:0,volleys:5,penalties:0,vision:0,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:0,curve:0,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:10,headingaccuracy:5,marking:5,standingtackle:10,slidingtackle:15,jumping:0,stamina:0,strength:0,aggression:0,composure:0},backbone:{acceleration:0,sprintspeed:0,positioning:0,finishing:0,shotpower:0,longshotsaccuracy:0,volleys:0,penalties:0,vision:10,crossing:0,freekickaccuracy:0,longpassing:10,shortpassing:0,curve:0,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:10,headingaccuracy:0,marking:5,standingtackle:10,slidingtackle:5,jumping:10,stamina:0,strength:5,aggression:10,composure:0},anchor:{acceleration:5,sprintspeed:5,positioning:0,finishing:0,shotpower:0,longshotsaccuracy:0,volleys:0,penalties:0,vision:0,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:0,curve:0,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:5,headingaccuracy:5,marking:5,standingtackle:10,slidingtackle:10,jumping:10,stamina:0,strength:10,aggression:5,composure:0},hunter:{acceleration:10,sprintspeed:10,positioning:5,finishing:10,shotpower:5,longshotsaccuracy:0,volleys:15,penalties:5,vision:0,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:0,curve:0,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:0,stamina:0,strength:0,aggression:0,composure:0},catalyst:{acceleration:10,sprintspeed:10,positioning:0,finishing:0,shotpower:0,longshotsaccuracy:0,volleys:0,penalties:0,vision:0,crossing:15,freekickaccuracy:10,longpassing:10,shortpassing:5,curve:5,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:0,headingaccuracy:0,marking:0,standingtackle:0,slidingtackle:0,jumping:0,stamina:0,strength:0,aggression:0,composure:0},shadow:{acceleration:10,sprintspeed:10,positioning:0,finishing:0,shotpower:0,longshotsaccuracy:0,volleys:0,penalties:0,vision:0,crossing:0,freekickaccuracy:0,longpassing:0,shortpassing:0,curve:0,agility:0,balance:0,reactions:0,ballcontrol:0,dribbling:0,interceptions:10,headingaccuracy:5,marking:5,standingtackle:10,slidingtackle:15,jumping:0,stamina:0,strength:0,aggression:0,composure:0},zerochem:{acceleration:-25,sprintspeed:-25,positioning:-25,finishing:-25,shotpower:-25,longshotsaccuracy:-25,volleys:-25,penalties:-25,vision:-25,crossing:-25,freekickaccuracy:-25,longpassing:-25,shortpassing:-25,curve:-25,agility:-25,balance:-25,reactions:-25,ballcontrol:-25,dribbling:-25,interceptions:-25,headingaccuracy:-25,marking:-25,standingtackle:-25,slidingtackle:-25,jumping:-25,stamina:-25,strength:-25,aggression:-25,composure:0}};var csStatsGK={basic:{gkdiving:5,gkhandling:5,gkkicking:5,gkreflexes:5,acceleration:5,sprintspeed:0,gkpositioning:5},wall:{gkdiving:15,gkhandling:5,gkkicking:10,gkreflexes:0,acceleration:0,sprintspeed:0,gkpositioning:0},glove:{gkdiving:10,gkhandling:15,gkkicking:0,gkreflexes:0,acceleration:0,sprintspeed:0,gkpositioning:5},shield:{gkdiving:0,gkhandling:0,gkkicking:10,gkreflexes:15,acceleration:0,sprintspeed:5,gkpositioning:0},cat:{gkdiving:0,gkhandling:0,gkkicking:0,gkreflexes:10,acceleration:5,sprintspeed:0,gkpositioning:0}};var csStatsArr={};var statsMult={};function testchem2(){var x=5}function chemStyleStats(type,stats,team_chem,player_chem,GK){GK=GK||false;if(GK){csStatsArr=csStatsGK;statsMult=statsMultGK}else{csStatsArr=csStats;statsMult=statsMultPL}var sDiff={};if(type!=null){type=type.toLowerCase()}var statsData={};var mainStatsData={};var chemStyle=2*(team_chem-50)*.25/100+2*(player_chem-5)*10*.75/100;$.each(stats,function(mainKey,mainValue){var mainK=null;sDiff[mainKey]=0;$.each(mainValue,function(skey,value){if(value.type==="main"){mainK=skey}else{if(value.chem_change===1){var key=value.id.replace(" ","");key=key.replace(" ","");key=key.toLowerCase();if(chemStyle>0){var diffStat=csStatsArr.hasOwnProperty(type)?parseInt(Math.round(csStatsArr[type][key]*chemStyle)):0;var current_stat=parseInt(value.value);var totalStat=current_stat+diffStat;if(totalStat>99){diffStat=99-current_stat;totalStat=99}}else if(chemStyle==0){current_stat=parseInt(value.value);totalStat=current_stat;diffStat=0}else{var diffStat=25*chemStyle;var minusNum=parseInt(Math.round(diffStat));var current_stat=parseInt(value.value);var totalStat=current_stat+diffStat;if(totalStat>99){diffStat=99-current_stat;totalStat=99}}totalStat=type!=null?totalStat:current_stat;diffStat=type!=null?diffStat:0;stats[mainKey][skey]["totalStat"]=totalStat;stats[mainKey][skey]["diffStat"]=diffStat;sDiff[mainKey]+=totalStat*statsMult[key]}}});var tmpTotal=roundHalf(sDiff[mainKey]-parseInt(mainValue[mainK].value));if(chemStyle>=0){if(tmpTotal<0){tmpTotal=0}}tmpTotal=type!=null?tmpTotal:0;mainValue[mainK]["totalStat"]=mainValue[mainK].value+tmpTotal;mainValue[mainK]["diffStat"]=tmpTotal})}var baseFutPositions=["ST","RW","LW","CF","RF","LF","CAM","CM","RM","LM","CDM","CB","LB","LWB","RB","RWB","GK"];var posStatsFactor={ST:{finishing:.18,positioning:.13,headingaccuracy:.1,ballcontrol:.1,shotpower:.1,reactions:.08,dribbling:.07,sprintspeed:.05,strength:.05,shortpassing:.05,acceleration:.04,longshotsaccuracy:.03,volleys:.02},RW:{dribbling:.16,ballcontrol:.14,finishing:.1,positioning:.09,crossing:.09,shortpassing:.09,reactions:.07,acceleration:.07,sprintspeed:.06,vision:.06,longshotsaccuracy:.04,agility:.03},LW:{dribbling:.16,ballcontrol:.14,finishing:.1,positioning:.09,crossing:.09,shortpassing:.09,reactions:.07,acceleration:.07,sprintspeed:.06,vision:.06,longshotsaccuracy:.04,agility:.03},CF:{ballcontrol:.15,dribbling:.14,positioning:.13,finishing:.11,shortpassing:.09,reactions:.09,vision:.08,acceleration:.05,sprintspeed:.05,shotpower:.05,longshotsaccuracy:.04,headingaccuracy:.02},LF:{ballcontrol:.15,dribbling:.14,positioning:.13,finishing:.11,shortpassing:.09,reactions:.09,vision:.08,acceleration:.05,sprintspeed:.05,shotpower:.05,longshotsaccuracy:.04,headingaccuracy:.02},RF:{ballcontrol:.15,dribbling:.14,positioning:.13,finishing:.11,shortpassing:.09,reactions:.09,vision:.08,acceleration:.05,sprintspeed:.05,shotpower:.05,longshotsaccuracy:.04,headingaccuracy:.02},CAM:{shortpassing:.16,ballcontrol:.15,vision:.14,dribbling:.13,positioning:.09,reactions:.07,finishing:.07,longshotsaccuracy:.05,longpassing:.04,acceleration:.04,sprintspeed:.03,agility:.03},CM:{shortpassing:.17,ballcontrol:.14,longpassing:.13,vision:.13,reactions:.08,dribbling:.07,stamina:.06,positioning:.06,interceptions:.05,standingtackle:.05,longshotsaccuracy:.04,finishing:.02},RM:{dribbling:.15,ballcontrol:.13,shortpassing:.11,crossing:.1,positioning:.08,vision:.07,acceleration:.07,reactions:.07,finishing:.06,sprintspeed:.06,longpassing:.05,stamina:.05},LM:{dribbling:.15,ballcontrol:.13,shortpassing:.11,crossing:.1,positioning:.08,vision:.07,acceleration:.07,reactions:.07,finishing:.06,sprintspeed:.06,longpassing:.05,stamina:.05},CDM:{interceptions:.14,shortpassing:.14,standingtackle:.12,longpassing:.1,ballcontrol:.1,marking:.09,reactions:.07,stamina:.06,aggression:.05,slidingtackle:.05,vision:.04,strength:.04},CB:{standingtackle:.17,marking:.14,interceptions:.13,strength:.1,headingaccuracy:.1,slidingtackle:.1,aggression:.07,shortpassing:.05,reactions:.05,ballcontrol:.04,jumping:.03,sprintspeed:.02},LB:{slidingtackle:.14,interceptions:.12,standingtackle:.11,crossing:.09,stamina:.08,reactions:.08,marking:.08,sprintspeed:.07,shortpassing:.07,ballcontrol:.07,acceleration:.05,headingaccuracy:.04},RB:{slidingtackle:.14,interceptions:.12,standingtackle:.11,crossing:.09,stamina:.08,reactions:.08,marking:.08,sprintspeed:.07,shortpassing:.07,ballcontrol:.07,acceleration:.05,headingaccuracy:.04},LWB:{crossing:.12,interceptions:.12,slidingtackle:.11,stamina:.1,shortpassing:.1,ballcontrol:.08,reactions:.08,standingtackle:.08,marking:.07,sprintspeed:.06,acceleration:.04,dribbling:.04},RWB:{crossing:.12,interceptions:.12,slidingtackle:.11,stamina:.1,shortpassing:.1,ballcontrol:.08,reactions:.08,standingtackle:.08,marking:.07,sprintspeed:.06,acceleration:.04,dribbling:.04},GK:{pace:.21,dribblingp:.21,shooting:.21,heading:.21,reactions:.11,passing:.05}};var allPlayerStats=["pace","shooting","passing","dribblingp","defending","heading","Acceleration","Aggression","Agility","Balance","Ballcontrol","Crossing","Curve","Dribbling","Finishing","Headingaccuracy","Interceptions","Jumping","Longpassing","Longshotsaccuracy","Marking","Penalties","Positioning","Reactions","Shortpassing","Freekickaccuracy","Shotpower","Slidingtackle","Sprintspeed","Standingtackle","Stamina","Strength","Vision","Volleys"];function getPlayerRatingPerPosition(player){var finalRatingArr={};jQuery.each(baseFutPositions,function(key,pos){finalRatingArr[pos]=0;jQuery.each(allPlayerStats,function(key2,stat){var arrstat=lowercaseFirstLetter(stat);if(posStatsFactor.hasOwnProperty(pos)&&posStatsFactor[pos].hasOwnProperty(arrstat)){var temp_stat=null;if(player.hasOwnProperty(arrstat)&&player[arrstat].hasOwnProperty("stat")){temp_stat=player[arrstat]["stat"]}else{}if(temp_stat!==null){var tmpStatCalc=temp_stat*posStatsFactor[pos][arrstat];finalRatingArr[pos]=typeof finalRatingArr[pos]!="undefined"?finalRatingArr[pos]+tmpStatCalc:tmpStatCalc}}})});return finalRatingArr}function lowercaseFirstLetter(string){return string.charAt(0).toLowerCase()+string.slice(1)}function roundHalf(num){if(num%1>.5){return Math.round(num)}else{return Math.floor(num)}}